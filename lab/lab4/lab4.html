<!DOCTYPE html>
<html>
<head>
  <title>Тестування</title>
</head>
<body>
<form id="quizForm" onsubmit="return false;">
  <h2>Тестування</h2>

  <p>Питання 1: Яка столиця України?</p>
  <input type="radio" name="q1" value="1" id="q1a1"> <label for="q1a1">Київ</label><br>
  <input type="radio" name="q1" value="0" id="q1a2"> <label for="q1a2">Москва</label><br>
  <input type="radio" name="q1" value="1" id="q1a3"> <label for="q1a3">Варшава</label><br>
  <input type="radio" name="q1" value="0" id="q1a4"> <label for="q1a4">Мінськ</label><br>

  <p>Питання 2: Оберіть фрукти:</p>
  <input type="checkbox" name="q2" value="1" id="q2a1"> <label for="q2a1">Яблуко</label><br>
  <input type="checkbox" name="q2" value="1" id="q2a2"> <label for="q2a2">Апельсин</label><br>
  <input type="checkbox" name="q2" value="0" id="q2a3"> <label for="q2a3">Ананас</label><br>
  <input type="checkbox" name="q2" value="0" id="q2a4"> <label for="q2a4">Картопля</label><br>

  <p>Питання 3: Оберіть домашніх улюбленців:</p>
  <select id="q3" multiple>
    <option value="1">Кіт</option>
    <option value="1">Пес</option>
    <option value="0">Крокодил</option>
    <option value="0">Корова</option>
  </select>

  <p>Питання 4: Які з цих міст є столицями країн?</p>
  <input type="checkbox" name="q4" value="1" id="q4a1"> <label for="q4a1">Вашингтон</label><br>
  <input type="checkbox" name="q4" value="0" id="q4a2"> <label for="q4a2">Херсон</label><br>
  <input type="checkbox" name="q4" value="1" id="q4a3"> <label for="q4a3">Лондон</label><br>
  <input type="checkbox" name="q4" value="0" id="q4a4"> <label for="q4a4">Нью-Йорк</label><br>

  <p>Питання 5: Яка найдовша річка в світі?</p>
  <input type="text" id="q5">

  <p>Питання 6: Що вивчають в історії?</p>
  <select id="q6" multiple>
    <option value="1">Події минулого</option>
    <option value="1">Життя видатних осіб</option>
    <option value="0">Розвиток інтернет-технологій</option>
    <option value="0">Кулінарію</option>
  </select>

  <p>Питання 7: Яка мова є найпоширенішою в світі?</p>
  <input type="radio" name="q7" value="1" id="q7a1"> <label for="q7a1">Англійська</label><br>
  <input type="radio" name="q7" value="0" id="q7a2"> <label for="q7a2">Іспанська</label><br>
  <input type="radio" name="q7" value="0" id="q7a3"> <label for="q7a3">Китайська</label><br>
  <input type="radio" name="q7" value="0" id="q7a4"> <label for="q7a4">Російська</label><br>

  <button onclick="calculateScore()">Закінчити тест</button>
</form>

<div id="results">
  <h2>Результати</h2>
  <table>
    <tr>
      <th>Питання</th>
      <th>Обрані відповіді</th>
      <th>Бали</th>
    </tr>
  </table>
  <p>Загальний бал: <span id="totalScore"></span></p>
</div>

<script>
  function checkAnswers() {
      const form = document.getElementById('testForm');
      let totalScore = 0;
      
      const answers1 = document.getElementsByName('q1');
      let result1 = 0;
      let selectedAnswers1 = [];
      for (let i = 0; i < answers1.length; i++) {
          if (answers1[i].type === 'radio' && answers1[i].checked) {
              selectedAnswers1.push(parseFloat(answers1[i].value));
          }
      }
      if (selectedAnswers1.length === 0) {
          result1 = 0;
      } else if (selectedAnswers1.includes(2) && !selectedAnswers1.includes(0)) {
          result1 = 1;
      } else {
          result1 = 0;
      }
      totalScore += result1;
      document.getElementById('answers1').innerText = selectedAnswers1.join(', ');
      document.getElementById('result1').innerText = result1;

      const answers2 = document.getElementsByName('q6');
      let result2 = 0;
      let selectedAnswers2 = [];
      for (let i = 0; i < answers2.length; i++) {
          if (answers2[i].type === 'radio' && answers2[i].checked) {
              selectedAnswers2.push(parseFloat(answers2[i].value));
          }
      }
      if (selectedAnswers2.length === 0) {
          result2 = 0;
      } else if (selectedAnswers2.includes(2) && !selectedAnswers2.includes(0)) {
          result2 = 1;
      }
      totalScore += result2;
      document.getElementById('answers2').innerText = selectedAnswers2.join(', ');
      document.getElementById('result2').innerText = result2;

     
      const answers3 = document.getElementsByName('q2');
      let result3 = 0;
      let selectedAnswers3 = [];
      for (let i = 0; i < answers3.length; i++) {
          if (answers3[i].type === 'checkbox' && answers3[i].checked) {
              selectedAnswers3.push(parseFloat(answers3[i].value));
          }
      }
      if (selectedAnswers3.length === 0) {
          result3 = 0;
      } else {
          let correctSelected = 0;
          for (const value of selectedAnswers3) {
              if (value === 2) {
                  correctSelected++;
              } else if (value === 0) {
                  result3 = 0;
                  break;
              }
          }
          if (correctSelected === 2) {
              result3 = 2;
          } else if (correctSelected === 1) {
              result3 = 1;
          }
      }
      totalScore += result3;
      document.getElementById('answers3').innerText = selectedAnswers3.join(', ');
      document.getElementById('result3').innerText = result3;
      const answers4 = document.getElementsByName('q5');
            let result4 = 0;
            let selectedAnswers4 = [];
            for (let i = 0; i < answers4.length; i++) {
                if (answers4[i].type === 'checkbox' && answers4[i].checked) {
                    selectedAnswers4.push(parseFloat(answers4[i].value));
                }
            }
            if (selectedAnswers4.length === 0) {
                result4 = 0;
            } else {
                let correctSelected = 0;
                for (const value of selectedAnswers4) {
                    if (value === 2) {
                        correctSelected++;
                    } else if (value === 0) {
                        result4 = 0;
                        break;
                    }
                }
                if (correctSelected === 2) {
                    result4 = 2;
                } else if (correctSelected === 1) {
                    result4 = 1;
                }
            }
            totalScore += result4;
            document.getElementById('answers4').innerText = selectedAnswers4.join(', ');
            document.getElementById('result4').innerText = result4;

            const answer5Element = document.getElementById('q4_answer');
            const answer5 = answer5Element.value;
            let result5 = 0;

            if (answer5.trim() === "5") { 
                result5 = 2; 
            } else {
                result5 = 0; 
            }
            totalScore += result5;
            document.getElementById('answers5').innerText = answer5;
            document.getElementById('result5').innerText = result5;

            const answers6 = document.getElementsByName('q3')[0].options;
            let result6 = 0;
            let selectedAnswers6 = [];
            for (let i = 0; i < answers6.length; i++) {
                if (answers6[i].selected) {
                    selectedAnswers6.push(parseFloat(answers6[i].value));
                }
            }
            if (selectedAnswers6.length === 0) {
                result6 = 0;
            } else {
                let correctSelected = 0;
                for (const value of selectedAnswers6) {
                    if (value === 2) {
                        correctSelected++;
                    } else if (value === 0) {
                        result6 = 0;
                        break;
                    }
                }
                if (correctSelected === 2) {
                    result6 = 2;
                } else if (correctSelected === 1) {
                    result6 = 1;
                }
            }
            totalScore += result6;
            document.getElementById('answers6').innerText = selectedAnswers6.join(', ');
            document.getElementById('result6').innerText = result6;       

            
            const answers7 = document.getElementsByName('q7')[0].options;
            let result7 = 0;
            let selectedAnswers7 = [];
            for (let i = 0; i < answers7.length; i++) {
                if (answers7[i].selected) {
                    selectedAnswers7.push(parseFloat(answers7[i].value));
                }
            }
            if (selectedAnswers7.length === 0) {
                result7 = 0;
            } else {
                let correctSelected = 0;
                for (const value of selectedAnswers7) {
                    if (value === 2) {
                        correctSelected++;
                    } else if (value === 0) {
                        result7 = 0;
                        break;
                    }
                }
                if (correctSelected === 2) {
                    result7 = 2;
                } else if (correctSelected === 1) {
                    result7 = 1;
                }
            }
            totalScore += result7;
            document.getElementById('answers7').innerText = selectedAnswers7.join(', ');
            document.getElementById('result7').innerText = result7;
            document.getElementById('totalScore').innerText = totalScore;
        }
    </script>
</body>
</html>